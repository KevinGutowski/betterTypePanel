var globalThis=this;function __skpm_run(t,e){globalThis.context=e;var i=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){t.exports=require("sketch")},function(t,i,a){"use strict";a.r(i),a.d(i,"shutdown",function(){return g}),a.d(i,"selectionChanged",function(){return h}),a.d(i,"textChanged",function(){return C});var n=a(0),r=a.n(n);COScript.currentCOScript().setShouldKeepAround_(!0);var o="com.betterTypePanel",s="com.betterTypePanel.popupButton.verticalPosition",l="com.betterTypePanel.radioButton.proportional",S="com.betterTypePanel.radioButton.monospaced",u="com.betterTypePanel.button.lowerCase",c="com.betterTypePanel.button.upperCase",d="com.betterTypePanel.radioButton.liningFigures",f="com.betterTypePanel.radioButton.oldStyle",m="com.betterTypePanel.popupButton.sfSymbolSize",p="com.betterTypePanel.row.sfSymbolSize",N="com.betterTypePanel.vibrancy",b=312,y=210;function g(){try{T(),HSMain.alloc().init().stopObservingTextViewSelectionChanges()}catch(t){console.error(t)}}function h(t){framework("CoreText"),NSThread.mainThread().threadDictionary()[o]&&w()}function C(){if(framework("CoreText"),NSThread.mainThread().threadDictionary()[o]){w(!0)}}function T(){var t,i,a=e.scriptPath||COScript.currentCOScript().env().scriptURL.path(),n=a.stringByDeletingLastPathComponent().stringByDeletingLastPathComponent()+"/Resources",r=r||log;t=Mocha.sharedRuntime(),i=n,t.valueForKey("HelloSketch")||(t.loadFrameworkWithName_inDirectory("HelloSketch",i)?t.setValue_forKey_(!0,"HelloSketch"):r("❌ betterTypePanel loadFramework: `HelloSketch` failed!: "+i+". Please define HelloSketch_FrameworkPath if you're trying to @import in a custom plugin - scriptPath: "+a))}function k(t,e,i){t.setTranslatesAutoresizingMaskIntoConstraints(!1),v(NSLayoutAttributeTop,t,e,i[0]),v(NSLayoutAttributeTrailing,t,e,i[1]),v(NSLayoutAttributeBottom,t,e,i[2]),v(NSLayoutAttributeLeading,t,e,i[3])}function v(t,e,i,a){i.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(e,t,NSLayoutRelationEqual,i,t,1,a))}function O(t){var e=t.text,i=t.frame,a=t.alignment,n=t.fontSize,r=void 0===n?13:n,o=NSTextField.alloc().initWithFrame(i);return o.setStringValue(e),o.setAlignment(a),o.setFont(NSFont.systemFontOfSize(r)),o.setBezeled(!1),o.setDrawsBackground(!1),o.setEditable(!1),o.setSelectable(!1),o}function A(t){var e=r.a.getSelectedDocument();e.selectedLayers.layers.filter(function(t){return"Text"==t.type}).forEach(function(e){var i=e.sketchObject.font(),a=i.pointSize(),n=(i.fontDescriptor().fontAttributes()[NSFontFeatureSettingsAttribute],i.fontDescriptor().fontDescriptorByAddingAttributes(t)),r=NSFont.fontWithDescriptor_size(n,a);if(e.sketchObject.setFont(r),1==e.sketchObject.isEditingText()){var o=e.sketchObject.editingDelegate().textView(),s=o.textStorage();x(e).forEach(function(e){var i=e.font,a=e.range,n=i.pointSize(),r=i.fontDescriptor().fontDescriptorByAddingAttributes(t),o=NSFont.fontWithDescriptor_size(r,n),l=NSDictionary.dictionaryWithObject_forKey(o,NSFontAttributeName);s.addAttributes_range(l,a)}),o.didChangeText()}}),e.sketchObject.inspectorController().reload()}function _(t,e){var i=NSFont.boldSystemFontOfSize(13),a=L(t,e),n=(i.fontDescriptor().fontAttributes()[NSFontFeatureSettingsAttribute],i.fontDescriptor().fontDescriptorByAddingAttributes(a));return NSFont.fontWithDescriptor_size(n,13)}function L(t,e){return{[NSFontFeatureSettingsAttribute]:[{[NSFontFeatureTypeIdentifierKey]:t,[NSFontFeatureSelectorIdentifierKey]:e}]}}function w(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=r.a.getSelectedDocument().selectedLayers.layers,i=NSThread.mainThread().threadDictionary(),a=i[N];if(null==e)return W(i),void(a.isHidden()||(a.layer().setBackgroundFilters([]),a.setHidden(!0)));var n=e.filter(function(t){return"Text"==t.type});if(0==n.length)return W(i),void(a.isHidden()||(a.layer().setBackgroundFilters([]),a.setHidden(!0)));var b=[];n.forEach(function(e){x(e,t).forEach(function(t){var e,i,a,n,r,s,l,S,u;e=t.font,i=e.familyName(),a=!1,n=NSThread.mainThread().threadDictionary(),r=n[p],s=n[o],l=s.frame().origin.x,S=s.frame().origin.y,s.frame().size.height,u=s.frame().size.height,["SF Pro Text","SF Pro Rounded","SF Pro Display","SF Compact Text","SF Compact Rounded","SF Compact Display"].forEach(function(t){if(i==t)return a=!0,void(235!=u&&(s.setFrame_display_animate(NSMakeRect(l,S-25,312,235),!0,!0),r.setHidden(!1)))}),a||210!=u&&(r.setHidden(!0),s.setFrame_display_animate(NSMakeRect(l,S+25,312,210),!0,!0));var c=function(t){var e={verticalPosition:"default",numberSpacing:"proportional",numberCase:"lining",smallCapsLowerCase:!1,smallCapsUpperCase:!1,sfSymbolSize:"medium"};(function(t){framework("CoreText");var e=[];try{T();var i=HSMain.alloc().init(),a=CTFontCreateWithName(t.fontName(),t.pointSize(),null),n=CTFontCopyFeatures(a),r=i.bridgeArray(n);e=function(t){var e=[];if(t){var i=[];t.forEach(function(t){i.push(Number(t.CTFeatureTypeIdentifier))}),i.includes(10)||e.push("verticalPosition"),i.includes(6)||e.push("numberSpacing"),i.includes(21)||e.push("numberCase"),i.includes(37)||e.push("smallCapsLowerCase"),i.includes(38)||e.push("smallCapsUpperCase")}else e.push("verticalPosition","numberSpacing","numberCase","smallCapsLowerCase","smallCapsUpperCase");return e}(r)}catch(s){console.error(s)}var o=t.familyName().toLowerCase().trim();["sf pro text","sf pro rounded","sf pro display","sf compact text","sf compact rounded","sf compact display"].includes(o)||e.push("sfSymbolSize");return e})(t).forEach(function(t){switch(t){case"verticalPosition":e.verticalPosition="disabled";break;case"numberSpacing":e.numberSpacing="disabled";break;case"numberCase":e.numberCase="disabled";break;case"smallCapsLowerCase":e.smallCapsLowerCase="disabled";break;case"smallCapsUpperCase":e.smallCapsUpperCase="disabled";break;case"sfSymbolSize":e.sfSymbolSize="disabled"}});var i=t.fontDescriptor().fontAttributes()[NSFontFeatureSettingsAttribute];i&&i.forEach(function(t){var i=Number(t[NSFontFeatureTypeIdentifierKey]),a=Number(t[NSFontFeatureSelectorIdentifierKey]);switch(i){case 10:switch(a){case 0:e.verticalPosition="default";break;case 1:e.verticalPosition="superscript";break;case 2:e.verticalPosition="subscript";break;case 3:e.verticalPosition="ordinals";break;case 4:e.verticalPosition="scientific inferiors"}break;case 6:switch(a){case 0:e.numberSpacing="monospaced";break;case 1:e.numberSpacing="proportional"}break;case 21:switch(a){case 0:e.numberCase="oldStyle";break;case 1:e.numberCase="lining"}break;case 37:switch(a){case 0:e.smallCapsLowerCase=!1;break;case 1:e.smallCapsLowerCase=!0}break;case 38:switch(a){case 0:e.smallCapsUpperCase=!1;break;case 1:e.smallCapsUpperCase=!0}break;case 35:switch(a){case 30:e.sfSymbolSize="small";break;case 31:break;case 32:e.sfSymbolSize="large"}}});return e}(t.font);b.push(c)})});var y={smallCapsLowerCase:[],smallCapsUpperCase:[],sfSymbolSize:[],numberCase:[],verticalPosition:[],numberSpacing:[]};for(var g in b.forEach(function(t){Object.keys(t).forEach(function(e){y[e].push(t[e])})}),y)y[g]=y[g].filter(h);function h(t,e,i){return i.indexOf(t)===e}var C,k=!0;for(var v in y){if(y[v].length>1){k=!1;break}if("disabled"!==y[v][0]){k=!1;break}}for(var O in k&&a.isHidden()?(a.setHidden(!1),a.layer().setBackgroundFilters([(C=CIFilter.filterWithName("CIGaussianBlur"),C.setDefaults(),C.setValue_forKey(2,"inputRadius"),C.setName("blur"),C)])):k||a.isHidden()?k&&a.isHidden():(a.layer().setBackgroundFilters([]),a.setHidden(!0)),y)if("verticalPosition"==O)!function(){var t=i[s];t.setEnabled(!0),M(),y[O].length>1?(t.selectItemWithTitle("Multiple"),y[O].forEach(function(e){"default"==e?t.itemWithTitle("Default Position").setState(NSControlStateValueMixed):"superscript"==e?t.itemWithTitle("Superscript").setState(NSControlStateValueMixed):"subscript"==e?t.itemWithTitle("Subscript").setState(NSControlStateValueMixed):"ordinals"==e?t.itemWithTitle("Ordinals").setState(NSControlStateValueMixed):"scientific inferiors"==e&&t.itemWithTitle("Scientific Notation").setState(NSControlStateValueMixed)})):"default"==y[O][0]?(t.selectItemWithTitle("Default Position"),t.itemWithTitle("Default Position").setState(NSControlStateValueOn)):"superscript"==y[O][0]?(t.selectItemWithTitle("Superscript"),t.itemWithTitle("Superscript").setState(NSControlStateValueOn)):"subscript"==y[O][0]?(t.selectItemWithTitle("Subscript"),t.itemWithTitle("Subscript").setState(NSControlStateValueOn)):"ordinals"==y[O][0]?(t.selectItemWithTitle("Ordinals"),t.itemWithTitle("Ordinals").setState(NSControlStateValueOn)):"scientific inferiors"==y[O][0]?(t.selectItemWithTitle("Scientific Notation"),t.itemWithTitle("Scientific Notation").setState(NSControlStateValueOn)):"disabled"==y[O][0]&&t.setEnabled(!1)}();else if("numberSpacing"==O){var A=i[l],_=i[S];A.setEnabled(!0),_.setEnabled(!0),y[O].length>1?(A.setState(NSOffState),_.setState(NSOffState)):"proportional"==y[O][0]?(A.setState(NSOnState),_.setState(NSOffState)):"monospaced"==y[O][0]?(A.setState(NSOffState),_.setState(NSOnState)):"disabled"==y[O][0]&&(A.setState(NSOffState),_.setState(NSOffState),A.setEnabled(!1),_.setEnabled(!1))}else if("numberCase"==O){var L=i[d],w=i[f];L.setEnabled(!0),w.setEnabled(!0),y[O].length>1?(L.setState(NSOffState),w.setState(NSOffState)):"lining"==y[O][0]?(L.setState(NSOnState),w.setState(NSOffState)):"oldStyle"==y[O][0]?(L.setState(NSOffState),w.setState(NSOnState)):"disabled"==y[O][0]&&(L.setState(NSOffState),w.setState(NSOffState),L.setEnabled(!1),w.setEnabled(!1))}else if("smallCapsUpperCase"==O){var F=i[c];F.setEnabled(!0),y[O].length>1?F.setState(NSOffState):0==y[O][0]?F.setState(NSOffState):1==y[O][0]?F.setState(NSOnState):"disabled"==y[O][0]&&(F.setState(NSOffState),F.setEnabled(!1))}else if("smallCapsLowerCase"==O){var R=i[u];R.setEnabled(!0),y[O].length>1?R.setState(NSOffState):0==y[O][0]?R.setState(NSOffState):1==y[O][0]?R.setState(NSOnState):"disabled"==y[O][0]&&(R.setState(NSOffState),R.setEnabled(!1))}else"sfSymbolSize"==O?function(){var t=i[m];t.setEnabled(!0),V(),y[O].length>1?(t.selectItemWithTitle("Multiple"),y[O].forEach(function(e){"small"==e?t.itemWithTitle("Small").setState(NSControlStateValueMixed):"medium"==e?t.itemWithTitle("Medium").setState(NSControlStateValueMixed):"large"==e&&t.itemWithTitle("Large").setState(NSControlStateValueMixed)})):"small"==y[O][0]?(t.selectItemWithTitle("Small"),t.itemWithTitle("Small").setState(NSControlStateValueOn)):"medium"==y[O][0]?(t.selectItemWithTitle("Medium"),t.itemWithTitle("Medium").setState(NSControlStateValueOn)):"large"==y[O][0]?(t.selectItemWithTitle("Large"),t.itemWithTitle("Large").setState(NSControlStateValueOn)):"disabled"==y[O][0]&&t.setEnabled(!1)}():y[O]}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["all"];(e.includes("all")||e.includes("verticalPosition"))&&t[s].setEnabled(!1);if(e.includes("all")||e.includes("numberSpacing")){var i=t[l],a=t[S];i.setEnabled(!1),a.setEnabled(!1)}if(e.includes("all")||e.includes("numberCase")){var n=t[d],r=t[f];n.setEnabled(!1),r.setEnabled(!1)}(e.includes("all")||e.includes("smallCapsUpperCase"))&&t[c].setEnabled(!1);(e.includes("all")||e.includes("smallCapsLowerCase"))&&t[u].setEnabled(!1);(e.includes("all")||e.includes("sfSymbolSize"))&&t[m].setEnabled(!1)}function F(t,e,i){t.close();try{T(),HSMain.alloc().init().stopObservingTextViewSelectionChanges()}catch(a){console.error(a)}e.removeObjectForKey(i),e.panelOpen=!1,COScript.currentCOScript().setShouldKeepAround_(!1)}function M(){var t=NSThread.mainThread().threadDictionary()[s];t.itemWithTitle("Default Position").setState(NSControlStateValueOff),t.itemWithTitle("Superscript").setState(NSControlStateValueOff),t.itemWithTitle("Subscript").setState(NSControlStateValueOff),t.itemWithTitle("Ordinals").setState(NSControlStateValueOff),t.itemWithTitle("Scientific Notation").setState(NSControlStateValueOff)}function V(){var t=NSThread.mainThread().threadDictionary()[m];t.itemWithTitle("Small").setState(NSControlStateValueOff),t.itemWithTitle("Medium").setState(NSControlStateValueOff),t.itemWithTitle("Large").setState(NSControlStateValueOff)}function x(t){var e,i,a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.sketchObject,o=MOPointer.alloc().init(),s=!0;try{a=r.editingDelegate().textView()}catch(f){s=!1}if(s){var l=a.textStorage();i=a.selectedRange(),e=l,n&&(i=NSMakeRange(0,t.text.length))}else{var S=r.attributedStringValue();i=NSMakeRange(0,t.text.length),e=S}var u=[];if(0==i.length){var c=e.attribute_atIndex_longestEffectiveRange_inRange(NSFontAttributeName,i.location,o,i);u.push({font:c,range:o.value()})}for(;i.length>0;){var d=e.attribute_atIndex_longestEffectiveRange_inRange(NSFontAttributeName,i.location,o,i);i=NSMakeRange(NSMaxRange(o.value()),NSMaxRange(i)-NSMaxRange(o.value())),u.push({font:d,range:o.value()})}return u}i.default=function(){var t;(t=NSThread.mainThread().threadDictionary())[o]?F(t[o],t,o):(t.panelOpen=!0,function(t,e){var i=NSPanel.alloc().init();i.setFrame_display(NSMakeRect(0,0,b,y),!0),i.setStyleMask(NSTexturedBackgroundWindowMask|NSTitledWindowMask|NSClosableWindowMask),i.title="BetterTypePanel",i.center(),i.makeKeyAndOrderFront(null),i.setLevel(NSFloatingWindowLevel),i.standardWindowButton(NSWindowMiniaturizeButton).setHidden(!0),i.standardWindowButton(NSWindowZoomButton).setHidden(!0),t[e]=i;var a=O({text:"Number Position:",frame:NSMakeRect(0,0,109,17),alignment:NSTextAlignmentRight});a.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(a,NSLayoutAttributeWidth,NSLayoutRelationEqual,nil,NSLayoutAttributeNotAnAttribute,1,109));var n=NSPopUpButton.alloc().initWithFrame(NSMakeRect(0,0,150,25));n.addItemsWithTitles(["Default Position","Superscript","Subscript","Ordinals","Scientific Notation","Multiple"]),t[s]=n,n.itemWithTitle("Multiple").setHidden(!0),n.setCOSJSTargetFunction(function(t){return function(t){if("Superscript"==t.title()){var e=L(kVerticalPositionType,kSuperiorsSelector);A(e)}else if("Subscript"==t.title()){var i=L(kVerticalPositionType,kInferiorsSelector);A(i)}else if("Ordinals"==t.title()){var a=L(kVerticalPositionType,kOrdinalsSelector);A(a)}else if("Scientific Notation"==t.title()){var n=L(kVerticalPositionType,kScientificInferiorsSelector);A(n)}else{var r=L(kVerticalPositionType,kNormalPositionSelector);A(r)}}(t)});var r=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,284,25));r.setOrientation(NSUserInterfaceLayoutOrientationHorizontal),r.setAlignment(NSLayoutAttributeFirstBaseline),r.setSpacing(4),r.setViews_inGravity([a,n],NSStackViewGravityLeading);var o=O({text:"Number Spacing:",frame:NSMakeRect(0,0,109,17),alignment:NSTextAlignmentRight});o.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(o,NSLayoutAttributeWidth,NSLayoutRelationEqual,nil,NSLayoutAttributeNotAnAttribute,1,109));var g=NSButton.alloc().initWithFrame(NSMakeRect(0,0,97,18));g.setButtonType(NSRadioButton),g.setTitle("Proportional"),g.setState(NSOnState),t[l]=g;var h=NSButton.alloc().initWithFrame(NSMakeRect(0,0,150,18));h.setButtonType(NSRadioButton),h.setTitle("Monospaced/Tabular"),h.setState(NSOffState),t[S]=h;var C=function(t){if("Proportional"==t.title()){var e=L(kNumberSpacingType,kProportionalNumbersSelector);A(e)}else{var i=L(kNumberSpacingType,kMonospacedNumbersSelector);A(i)}};g.setCOSJSTargetFunction(function(t){return C(t)}),h.setCOSJSTargetFunction(function(t){return C(t)});var T=NSStackView.stackViewWithViews([g,h]);T.setOrientation(NSUserInterfaceLayoutOrientationVertical),T.setAlignment(NSLayoutAttributeLeading),T.setSpacing(4),T.setTranslatesAutoresizingMaskIntoConstraints(!1);var w=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,284,36));w.setOrientation(NSUserInterfaceLayoutOrientationHorizontal),w.setAlignment(NSLayoutAttributeFirstBaseline),w.setSpacing(4),w.setViews_inGravity([o,T],NSStackViewGravityLeading);var W=O({text:"Number Case:",frame:NSMakeRect(0,0,109,17),alignment:NSTextAlignmentRight});W.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(W,NSLayoutAttributeWidth,NSLayoutRelationEqual,nil,NSLayoutAttributeNotAnAttribute,1,109));var M=NSButton.alloc().initWithFrame(NSMakeRect(0,0,104,17));M.setButtonType(NSRadioButton),M.setTitle("Lining figures"),M.setState(NSOnState),t[d]=M;var V=NSButton.alloc().initWithFrame(NSMakeRect(0,0,124,18));V.setButtonType(NSRadioButton),V.setTitle("Old-style figures"),V.setState(NSOffState),t[f]=V;var x=function(t){if("Old-style figures"==t.title()){var e=L(kNumberCaseType,kLowerCaseNumbersSelector);A(e)}else{var i=L(kNumberCaseType,kUpperCaseNumbersSelector);A(i)}};M.setCOSJSTargetFunction(function(t){return x(t)}),V.setCOSJSTargetFunction(function(t){return x(t)});var R=NSStackView.stackViewWithViews([M,V]);R.setOrientation(NSUserInterfaceLayoutOrientationVertical),R.setAlignment(NSLayoutAttributeLeading),R.setSpacing(4),R.setTranslatesAutoresizingMaskIntoConstraints(!1);var B=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,284,36));B.setOrientation(NSUserInterfaceLayoutOrientationHorizontal),B.setAlignment(NSLayoutAttributeFirstBaseline),B.setSpacing(4),B.setViews_inGravity([W,R],NSStackViewGravityLeading);var P=O({text:"Small Caps:",frame:NSMakeRect(0,0,109,17),alignment:NSTextAlignmentRight});P.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(P,NSLayoutAttributeWidth,NSLayoutRelationEqual,nil,NSLayoutAttributeNotAnAttribute,1,109));var I=O({text:"Tt →",frame:NSMakeRect(0,0,32,17),alignment:NSTextAlignmentLeft}),E=NSButton.alloc().initWithFrame(NSMakeRect(0,0,72,32));E.setButtonType(NSButtonTypeOnOff),E.setBezelStyle(NSRoundedBezelStyle);var z=NSMutableAttributedString.new().initWithString("Tt"),D=NSMakeRange(1,1),H=_(37,1);z.setAlignment_range(NSTextAlignmentCenter,NSMakeRange(0,2)),z.addAttribute_value_range(NSFontAttributeName,H,D),E.setAttributedTitle(z),E.setState(NSOffState),E.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(E,NSLayoutAttributeWidth,NSLayoutRelationEqual,nil,NSLayoutAttributeNotAnAttribute,1,60)),t[u]=E,E.setCOSJSTargetFunction(function(t){return function(t){if(0==t.state()){var e=L(kLowerCaseType,kDefaultLowerCaseSelector);A(e)}else{var i=L(kLowerCaseType,kLowerCaseSmallCapsSelector);A(i)}}(t)});var U=O({text:"Lower Case",frame:NSMakeRect(0,0,65,14),alignment:NSTextAlignmentCenter,fontSize:11}),j=NSStackView.stackViewWithViews([E,U]);j.setOrientation(NSUserInterfaceLayoutOrientationVertical),j.setAlignment(NSLayoutAttributeCenterX),j.setSpacing(4),j.setTranslatesAutoresizingMaskIntoConstraints(!1);var K=NSButton.alloc().initWithFrame(NSMakeRect(0,0,72,32));K.setButtonType(NSButtonTypeOnOff),K.setBezelStyle(NSRoundedBezelStyle);var G=NSMutableAttributedString.new().initWithString("Tt"),q=NSMakeRange(0,1),J=_(38,1);G.setAlignment_range(NSTextAlignmentCenter,NSMakeRange(0,2)),NSMutableParagraphStyle.new().init().setAlignment(NSTextAlignmentCenter),G.addAttribute_value_range(NSFontAttributeName,J,q),K.setAttributedTitle(G),K.setState(NSOffState),K.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(K,NSLayoutAttributeWidth,NSLayoutRelationEqual,nil,NSLayoutAttributeNotAnAttribute,1,60)),t[c]=K,K.setCOSJSTargetFunction(function(t){return function(t){if(0==t.state()){var e=L(kUpperCaseType,kDefaultUpperCaseSelector);A(e)}else{var i=L(kUpperCaseType,kUpperCaseSmallCapsSelector);A(i)}}(t)});var X=O({text:"Upper Case",frame:NSMakeRect(0,0,66,14),alignment:NSTextAlignmentCenter,fontSize:11}),Z=NSStackView.stackViewWithViews([K,X]);Z.setOrientation(NSUserInterfaceLayoutOrientationVertical),Z.setSpacing(4),Z.setTranslatesAutoresizingMaskIntoConstraints(!1);var Q=NSStackView.stackViewWithViews([I,j,Z]);Q.setOrientation(NSUserInterfaceLayoutOrientationHorizontal),Q.setAlignment(NSLayoutAttributeFirstBaseline),Q.setSpacing(4),Q.setTranslatesAutoresizingMaskIntoConstraints(!1);var Y=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,284,36));Y.setOrientation(NSUserInterfaceLayoutOrientationHorizontal),Y.setAlignment(NSLayoutAttributeFirstBaseline),Y.setSpacing(4),Y.setViews_inGravity([P,Q],NSStackViewGravityLeading);var $=O({text:"SF Symbol Size:",frame:NSMakeRect(0,0,109,17),alignment:NSTextAlignmentRight});$.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant($,NSLayoutAttributeWidth,NSLayoutRelationEqual,nil,NSLayoutAttributeNotAnAttribute,1,109));var tt=NSPopUpButton.alloc().initWithFrame(NSMakeRect(0,0,150,25));tt.addItemsWithTitles(["Small","Medium","Large","Multiple"]),t[m]=tt,tt.itemWithTitle("Multiple").setHidden(!0),tt.setCOSJSTargetFunction(function(t){return function(t){if("Small"==t.title()){var e=L(kStylisticAlternativesType,kStylisticAltFifteenOnSelector),i=L(kStylisticAlternativesType,kStylisticAltSixteenOffSelector),a=[e,i];a.forEach(function(t){A(t)})}else if("Medium"==t.title()){var n=L(kStylisticAlternativesType,kStylisticAltFifteenOffSelector),r=L(kStylisticAlternativesType,kStylisticAltSixteenOffSelector),o=[n,r];o.forEach(function(t){A(t)})}else if("Large"==t.title()){var s=L(kStylisticAlternativesType,kStylisticAltFifteenOffSelector),l=L(kStylisticAlternativesType,kStylisticAltSixteenOnSelector),S=[s,l];S.forEach(function(t){A(t)})}}(t)});var et=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,284,25));et.setOrientation(NSUserInterfaceLayoutOrientationHorizontal),et.setAlignment(NSLayoutAttributeFirstBaseline),et.setSpacing(4),et.setViews_inGravity([$,tt],NSStackViewGravityLeading),t[p]=et,et.setHidden(!0);var it=NSStackView.stackViewWithViews([r,w,B,Y,et]);it.setOrientation(NSUserInterfaceLayoutOrientationVertical),it.setAlignment(NSLayoutAttributeLeading),it.setSpacing(8),it.setTranslatesAutoresizingMaskIntoConstraints(!1),i.contentView().addSubview(it),i.contentView().setFlipped(!0),k(it,i.contentView(),[16,16,8,16]),function(t){var e=NSView.alloc().initWithFrame(NSMakeRect(0,0,b,y));e.setBackgroundColor(NSColor.colorWithRed_green_blue_alpha(0,0,0,.6)),e.setWantsLayer(!0),t.addSubview(e),k(e,t,[0,0,0,0]);var i=O({text:"Selected text doesn't contain any supported font features. Please try a different typeface.",frame:NSMakeRect(0,0,b,17),alignment:NSTextAlignmentCenter,fontSize:12});i.setTextColor(NSColor.whiteColor()),e.addSubview(i),i.setTranslatesAutoresizingMaskIntoConstraints(!1),v(NSLayoutAttributeCenterX,i,e,0),v(NSLayoutAttributeTop,i,e,40),i.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(i,NSLayoutAttributeWidth,NSLayoutRelationEqual,nil,NSLayoutAttributeNotAnAttribute,1,260)),e.setHidden(!0),NSThread.mainThread().threadDictionary()[N]=e}(i.contentView()),t[e]=i,i.standardWindowButton(NSWindowCloseButton).setCOSJSTargetFunction(function(a){F(i,t,e)})}(t,o)),T(),framework("CoreText");var e=HSMain.alloc().init();e.beginObservingTextViewSelectionChanges(),e.setCallbackForTextViewSelectionChange(function(){w()}),w()}}]);"default"===t&&"function"==typeof i?i(e):i[t](e)}globalThis.onRun=__skpm_run.bind(this,"default"),globalThis.selectionChanged=__skpm_run.bind(this,"selectionChanged"),globalThis.textChanged=__skpm_run.bind(this,"textChanged");